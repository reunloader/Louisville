<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ page.title }} | {{ site.title }}</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üîç</text></svg>">

  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }
    .site-header {
      border-top: 5px solid #424242;
      border-bottom: 1px solid #e8e8e8;
      min-height: 55px;
      padding: 10px 0;
    }
    .site-header .wrapper {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .site-title {
      font-size: 26px;
      font-weight: 300;
      line-height: 54px;
      margin-bottom: 0;
      text-decoration: none;
      color: #424242;
    }
    .site-nav {
      display: flex;
      gap: 20px;
    }
    .site-nav a {
      color: #424242;
      text-decoration: none;
      line-height: 54px;
    }
    .site-nav a:hover {
      text-decoration: underline;
    }
    /* Mobile hamburger menu */
    .menu-icon {
      display: none;
      cursor: pointer;
      flex-direction: column;
      gap: 5px;
    }
    .menu-icon span {
      width: 25px;
      height: 3px;
      background-color: #424242;
      transition: all 0.3s;
    }
    @media screen and (max-width: 768px) {
      .menu-icon {
        display: flex;
      }
      .site-nav {
        position: absolute;
        top: 60px;
        right: 0;
        background: white;
        flex-direction: column;
        width: 200px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        display: none;
        gap: 0;
        padding: 10px 0;
      }
      .site-nav.active {
        display: flex;
      }
      .site-nav a {
        padding: 10px 20px;
        line-height: normal;
      }
      .site-header .wrapper {
        position: relative;
      }
    }
    .wrapper {
      max-width: 1200px;
      margin: 0 auto;
      padding: 30px 20px;
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="wrapper">
      <a class="site-title" href="{{ "/" | relative_url }}">{{ site.title }}</a>
      <div class="menu-icon" onclick="toggleMenu()">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <nav class="site-nav" id="navMenu">
        <a href="{{ "/" | relative_url }}">Live Feed</a>
        <a href="{{ "/map/" | relative_url }}">Map</a>
        <a href="{{ "/digest/" | relative_url }}">Digest</a>
        <a href="{{ "/chatbot/" | relative_url }}">Chatbot</a>
        <a href="{{ "/about/" | relative_url }}">About</a>
      </nav>
    </div>
  </header>

  <main class="page-content">
    <div class="wrapper">
      <article class="post">
        <header class="post-header">
          <h1 class="post-title">{{ page.title }}</h1>
        </header>

        <div class="post-content">
          {{ content }}
        </div>
      </article>
    </div>
  </main>

  <script>
    // Toggle mobile menu
    function toggleMenu() {
      const navMenu = document.getElementById('navMenu');
      navMenu.classList.toggle('active');
    }

    // Close menu when clicking outside
    document.addEventListener('click', function(event) {
      const navMenu = document.getElementById('navMenu');
      const menuIcon = document.querySelector('.menu-icon');

      if (navMenu && menuIcon) {
        const isClickInsideNav = navMenu.contains(event.target);
        const isClickOnMenuIcon = menuIcon.contains(event.target);

        if (!isClickInsideNav && !isClickOnMenuIcon && navMenu.classList.contains('active')) {
          navMenu.classList.remove('active');
        }
      }
    });
  </script>
</body>
</html>
